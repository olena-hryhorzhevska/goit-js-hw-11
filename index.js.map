{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';4\nimport 'izitoast/dist/css/iziToast.min.css';\nconst API_KEY = '50842900-bcdcb4b14e1b1067d3f853731';\nconst URL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get(URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => {\n      const hits = response.data.hits;\n      if (hits.length < 1) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: '#EF4040',\n          messageColor: '#FAFAFB',\n          iconUrl: './img/cross.png',\n        });\n        return [];\n      }\n      return hits;\n    })\n    .catch(error => {\n      iziToast.show({\n        message: `Error: ${error.message}`,\n        backgroundColor: 'rgba(255, 0, 0, 0.5)',\n        messageColor: 'black',\n      });\n      return [];\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        const shortTags = tags.split(',').slice(0, 3).join(', ');\n        return `\n  <li class=\"cat list\">\n    <a href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${shortTags}\" />\n    </a>\n<div class=\"info\">\n  <div class=\"info-row titles\">\n    <p><strong>Likes</strong></p>\n    <p><strong>Views</strong></p>\n    <p><strong>Comments</strong></p>\n    <p><strong>Downloads</strong></p>\n  </div>\n<div class=\"info-row values\">\n    <p>${likes}</p>\n    <p>${views}</p>\n    <p>${comments}</p>\n    <p>${downloads}</p>\n  </div>\n</div>\n  </li>\n    `;\n      }\n    )\n    .join('');\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  clearGallery();\n  showLoader();\n  let input = event.target.elements['search-text'].value;\n  getImagesByQuery(input)\n    .then(images => {\n      if (images.length > 0) {\n        createGallery(images);\n      }\n    })\n    .finally(() => hideLoader());\n}\n"],"names":["API_KEY","URL","getImagesByQuery","query","axios","response","hits","iziToast","error","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","shortTags","clearGallery","showLoader","hideLoader","form","handleSubmit","event","input"],"mappings":"owBAGA,MAAMA,EAAU,qCACVC,EAAM,2BAEL,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAIH,EAAK,CACR,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAY,CAChB,MAAMC,EAAOD,EAAS,KAAK,KAC3B,OAAIC,EAAK,OAAS,GAChBC,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,QAAS,iBACnB,CAAS,EACM,IAEFD,CACb,CAAK,EACA,MAAME,IACLD,EAAS,KAAK,CACZ,QAAS,UAAUC,EAAM,OAAO,GAChC,gBAAiB,uBACjB,aAAc,OACtB,CAAO,EACM,GACR,CACL,CCpCA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY,CACJ,MAAMC,EAAYL,EAAK,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,IAAI,EACvD,MAAO;AAAA;AAAA,eAEAD,CAAa;AAAA,kBACVD,CAAY,UAAUO,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUxCJ,CAAK;AAAA,SACLC,CAAK;AAAA,SACLC,CAAQ;AAAA,SACRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKX,CACF,EACA,KAAK,EAAE,EACVb,EAAQ,UAAYM,EACpBJ,EAAS,QAAO,CAClB,CAGO,SAASa,GAAe,CAC7Bf,EAAQ,UAAY,EACtB,CAEO,SAASgB,GAAa,CAC3Bf,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASgB,GAAa,CAC3BhB,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCzDA,MAAMiB,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBL,IACAC,IACA,IAAIK,EAAQD,EAAM,OAAO,SAAS,aAAa,EAAE,MACjD3B,EAAiB4B,CAAK,EACnB,KAAKhB,GAAU,CACVA,EAAO,OAAS,GAClBD,EAAcC,CAAM,CAE5B,CAAK,EACA,QAAQ,IAAMY,EAAU,CAAE,CAC/B"}